<div class='container-bg pt-5'>
  <div
    class='d-flex flex-column align-items-center justify-content-center pt-5 pb-5'
  >

    <h1 class='display-5 mb-3 mt-5'>Shopping Cart</h1>

    <div class='col-11 col-sm-8'>

      {{#if noItems}}
        <div class='alert alert-danger' role='alert'>
          Your cart is empty
        </div>
      {{else}}
        <div class='cart-table'>
          <table class='table'>
            <thead>
              <tr>
                <th scope='col'>Product</th>
                <th scope='col'>Price</th>
                <th scope='col'>Quantity</th>
                <th scope='col'>Total</th>
                <th scope='col'></th>
              </tr>
            </thead>
            <tbody>
              {{#each cartItems}}
                <tr>
                  <td>{{this.product.title}}</td>
                  <td>${{this.product.price}}</td>
                  <td>
                    <div class='input-group'>
                      <button
                        class='btn btn-outline-secondary minus-btn'
                        type='button'
                        data-id='{{this.product.id}}'
                      >-</button>
                      <input
                        type='number'
                        class='form-control qty-input'
                        value='{{this.quantity}}'
                        data-id='{{this.product.id}}'
                      />
                      <button
                        class='btn btn-outline-secondary plus-btn'
                        type='button'
                        data-id='{{this.product.id}}'
                      >+</button>
                    </div>
                  </td>
                  <td
                    class='prod-sub-total'
                    data-price='{{this.product.price}}'
                    data-quantity=' {{this.quantity}}'
                  >$<span id='subTotal'></span></td>
                  <td>
                    <button
                      class='btn btn-danger remove-btn'
                      type='button'
                      data-id='{{this.id}}'
                    >Remove</button>
                  </td>
                </tr>
              {{/each}}
            </tbody>
          </table>
        </div>
        <div class='cart-total'>
          <div class='row'>
            <div class='col-6'>Total:</div>
            <div class='col-6 text-end'>${{total}}</div>
          </div>
          <div class='text-end'>
            <a href='/checkout' class='btn btn-primary mt-3'>Checkout</a>
          </div>
        </div>
      {{/if}}
    </div>

  </div>
</div>

<script src='/socket.io/socket.io.js'></script>
<script src='/js/cart.js'></script>